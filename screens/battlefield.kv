<BattleField>:
    enemy_grid: enemy_grid
    player_grid: player_grid

    MDBoxLayout:
        orientation: "vertical"
        MDLabel:
            id: whos_turn
        EnemyGrid:
            id: enemy_grid
            is_enemy_grid: True
            allowed_ships: root.allowed_ships
            md_bg_color: app.theme_cls.primary_color
            on_blocked:
                whos_turn.text = "Enemy's Turn" if self.blocked else "Player's Turn"
                if self.blocked: root.enemy_turn(); self.blocked = False
        PlayerGrid:
            id: player_grid
            allowed_ships: root.allowed_ships
